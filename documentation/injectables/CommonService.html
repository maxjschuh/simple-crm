<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>simple-crm documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">simple-crm documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >CommonService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/services/common/common.service.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#contacts" >contacts</a>
                            </li>
                            <li>
                                <a href="#contactsSubscriber" >contactsSubscriber</a>
                            </li>
                            <li>
                                <a href="#employees" >employees</a>
                            </li>
                            <li>
                                <a href="#employeesSubscriber" >employeesSubscriber</a>
                            </li>
                            <li>
                                <a href="#transfers" >transfers</a>
                            </li>
                            <li>
                                <a href="#transfersSubscriber" >transfersSubscriber</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#dateNotInFutureValidator" >dateNotInFutureValidator</a>
                            </li>
                            <li>
                                <a href="#getDocumentFromCollection" >getDocumentFromCollection</a>
                            </li>
                            <li>
                                <a href="#getDocumentFromCustomCollection" >getDocumentFromCustomCollection</a>
                            </li>
                            <li>
                                <a href="#greaterThanZeroValidator" >greaterThanZeroValidator</a>
                            </li>
                            <li>
                                <a href="#invertValueIfOutgoingPayment" >invertValueIfOutgoingPayment</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy" >ngOnDestroy</a>
                            </li>
                            <li>
                                <a href="#returnClosingsOfEmployee" >returnClosingsOfEmployee</a>
                            </li>
                            <li>
                                <a href="#returnCollectionByName" >returnCollectionByName</a>
                            </li>
                            <li>
                                <a href="#returnDataForPersonPicker" >returnDataForPersonPicker</a>
                            </li>
                            <li>
                                <a href="#returnFormattedName" >returnFormattedName</a>
                            </li>
                            <li>
                                <a href="#returnIdByName" >returnIdByName</a>
                            </li>
                            <li>
                                <a href="#returnLinkToPerson" >returnLinkToPerson</a>
                            </li>
                            <li>
                                <a href="#returnPersonByName" >returnPersonByName</a>
                            </li>
                            <li>
                                <a href="#returnTransactionsOfContact" >returnTransactionsOfContact</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(firestoreService: <a href="../injectables/FirestoreService.html" target="_self">FirestoreService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/services/common/common.service.ts:22</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>firestoreService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/FirestoreService.html" target="_self" >FirestoreService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dateNotInFutureValidator"></a>
                    <span class="name">
                        <span ><b>dateNotInFutureValidator</b></span>
                        <a href="#dateNotInFutureValidator"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>dateNotInFutureValidator()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="315"
                                    class="link-to-prism">src/app/services/common/common.service.ts:315</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Validates that date does not lie in the future (is today or in the past).</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>ValidatorFn</code>

                        </div>
                            <div class="io-description">
                                <p>validator function</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDocumentFromCollection"></a>
                    <span class="name">
                        <span ><b>getDocumentFromCollection</b></span>
                        <a href="#getDocumentFromCollection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDocumentFromCollection(collection: "employees" | "transfers" | "contacts", documentId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, constructor: Type<Contact | Transfer | Employee>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="71"
                                    class="link-to-prism">src/app/services/common/common.service.ts:71</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Finds a document in a collection by its id and returns it (as object).</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>collection</td>
                                            <td>
                                                        <code>&quot;employees&quot; | &quot;transfers&quot; | &quot;contacts&quot;</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                            </td>
                                        </tr>
                                        <tr>
                                                <td>documentId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                            </td>
                                        </tr>
                                        <tr>
                                                <td>constructor</td>
                                            <td>
                                                        <code>Type&lt;Contact | Transfer | Employee&gt;</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>corresponding to the collection</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>document (contact, employee or transfer)</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDocumentFromCustomCollection"></a>
                    <span class="name">
                        <span ><b>getDocumentFromCustomCollection</b></span>
                        <a href="#getDocumentFromCustomCollection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDocumentFromCustomCollection(collection: Employee[] | Transfer[] | Contact[], documentId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, constructor: Type<Contact | Transfer | Employee>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="98"
                                    class="link-to-prism">src/app/services/common/common.service.ts:98</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Finds a document in the collection that is passed as parameter by its id. The found object is returned.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>collection</td>
                                            <td>
                                                        <code>Employee[] | Transfer[] | Contact[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>array containing objects of type Employee, Transfer or Contact</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>documentId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                            </td>
                                        </tr>
                                        <tr>
                                                <td>constructor</td>
                                            <td>
                                                        <code>Type&lt;Contact | Transfer | Employee&gt;</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>corresponding to the collection</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>document (contact, employee or transfer)</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="greaterThanZeroValidator"></a>
                    <span class="name">
                        <span ><b>greaterThanZeroValidator</b></span>
                        <a href="#greaterThanZeroValidator"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>greaterThanZeroValidator()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="285"
                                    class="link-to-prism">src/app/services/common/common.service.ts:285</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Input validator that checks if a number value is greater than zero</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>ValidatorFn</code>

                        </div>
                            <div class="io-description">
                                <p>validator function</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="invertValueIfOutgoingPayment"></a>
                    <span class="name">
                        <span ><b>invertValueIfOutgoingPayment</b></span>
                        <a href="#invertValueIfOutgoingPayment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>invertValueIfOutgoingPayment(transfer: <a href="../classes/Transfer.html" target="_self">Transfer</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="303"
                                    class="link-to-prism">src/app/services/common/common.service.ts:303</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>It is easier for users to specifiy and edit the amount in both ingoing and outgoing payments in positive values. Therefore this function can be called for turning positive amount values for outgoing payments (&quot;purchase&quot; and &quot;refund&quot;) into negative values and vice versa.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>transfer</td>
                                            <td>
                                                            <code><a href="../classes/Transfer.html" target="_self" >Transfer</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </div>
                            <div class="io-description">
                                <p>original amount value of transfer, if type is &quot;sale&quot;, otherwise inverted value</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <span ><b>ngOnDestroy</b></span>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="57"
                                    class="link-to-prism">src/app/services/common/common.service.ts:57</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Unsubscribes from all subscriptions in this service.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="returnClosingsOfEmployee"></a>
                    <span class="name">
                        <span ><b>returnClosingsOfEmployee</b></span>
                        <a href="#returnClosingsOfEmployee"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>returnClosingsOfEmployee(employeeId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="267"
                                    class="link-to-prism">src/app/services/common/common.service.ts:267</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Returns all transfers (called &quot;transactions&quot; in the UI), in which the employee who is passed as parameter is specified in the key &quot;closedBy&quot;.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>employeeId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>document id of the contact whose closings should be returned</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/Transfer.html" target="_self" >Transfer[]</a></code>

                        </div>
                            <div class="io-description">
                                <p>array of transfers</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="returnCollectionByName"></a>
                    <span class="name">
                        <span ><b>returnCollectionByName</b></span>
                        <a href="#returnCollectionByName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>returnCollectionByName(collection: "employees" | "transfers" | "contacts")</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="119"
                                    class="link-to-prism">src/app/services/common/common.service.ts:119</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Returns the corresponding collection to the term that is passed as parameter.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>collection</td>
                                            <td>
                                                        <code>&quot;employees&quot; | &quot;transfers&quot; | &quot;contacts&quot;</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>[] | [] | []</code>

                        </div>
                            <div class="io-description">
                                <p>array of contacts, employees or transfers (called &quot;transaction&quot; in the UI)</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="returnDataForPersonPicker"></a>
                    <span class="name">
                        <span ><b>returnDataForPersonPicker</b></span>
                        <a href="#returnDataForPersonPicker"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>returnDataForPersonPicker(collection: Contact[] | Employee[])</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="186"
                                    class="link-to-prism">src/app/services/common/common.service.ts:186</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Creates an array of name strings from an collection. Used in the person pickers.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>collection</td>
                                            <td>
                                                        <code>Contact[] | Employee[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>from which the names should be taken</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>string[]</code>

                        </div>
                            <div class="io-description">
                                <p>array of name strings (firstname and lastname separated by comma)</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="returnFormattedName"></a>
                    <span class="name">
                        <span ><b>returnFormattedName</b></span>
                        <a href="#returnFormattedName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>returnFormattedName(lastNameCommaFirstName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="210"
                                    class="link-to-prism">src/app/services/common/common.service.ts:210</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Converts a person name from the format &quot;lastname, firstname&quot; to the format &quot;firstname lastname&quot;.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>lastNameCommaFirstName</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>name in the format &quot;lastname, firstname&quot;</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>name in the format &quot;firstname lastname&quot;</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="returnIdByName"></a>
                    <span class="name">
                        <span ><b>returnIdByName</b></span>
                        <a href="#returnIdByName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>returnIdByName(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, collection: Employee[] | Contact[])</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="142"
                                    class="link-to-prism">src/app/services/common/common.service.ts:142</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Returns the document id of the person with the name that is passed as parameter.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>name</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>of the person whose id should be returned</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>collection</td>
                                            <td>
                                                        <code>Employee[] | Contact[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>where the person should be found (contacts or employees)</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>document id as string</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="returnLinkToPerson"></a>
                    <span class="name">
                        <span ><b>returnLinkToPerson</b></span>
                        <a href="#returnLinkToPerson"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>returnLinkToPerson(type: "/employees" | "/contacts", id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="227"
                                    class="link-to-prism">src/app/services/common/common.service.ts:227</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Returns the url parameters for navigating to the details page of the person whose id is passed as parameter.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>type</td>
                                            <td>
                                                        <code>&quot;/employees&quot; | &quot;/contacts&quot;</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                            </td>
                                        </tr>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>document id of the person</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>string[]</code>

                        </div>
                            <div class="io-description">
                                <p>url parameters as string (for use in routerLink)</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="returnPersonByName"></a>
                    <span class="name">
                        <span ><b>returnPersonByName</b></span>
                        <a href="#returnPersonByName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>returnPersonByName(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, collection: Employee[] | Contact[])</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="161"
                                    class="link-to-prism">src/app/services/common/common.service.ts:161</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Returns the person (object) with the name that is passed as parameter.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>name</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>of the person</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>collection</td>
                                            <td>
                                                        <code>Employee[] | Contact[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>where the person should be found (contacts or employees)</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Contact | Employee | void</code>

                        </div>
                            <div class="io-description">
                                <p>object of type Contact or Employee</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="returnTransactionsOfContact"></a>
                    <span class="name">
                        <span ><b>returnTransactionsOfContact</b></span>
                        <a href="#returnTransactionsOfContact"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>returnTransactionsOfContact(contactId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="243"
                                    class="link-to-prism">src/app/services/common/common.service.ts:243</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Returns all transfers (called &quot;transactions&quot; in the UI), in which the contact who is passed as parameter is involved.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contactId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>document id of the contact whose transfers should be returned</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/Transfer.html" target="_self" >Transfer[]</a></code>

                        </div>
                            <div class="io-description">
                                <p>array of transfers</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="contacts"></a>
                    <span class="name">
                        <span ><b>contacts</b></span>
                        <a href="#contacts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/Contact.html" target="_self" >Contact[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/services/common/common.service.ts:22</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="contactsSubscriber"></a>
                    <span class="name">
                        <span ><b>contactsSubscriber</b></span>
                        <a href="#contactsSubscriber"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Subscription</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/app/services/common/common.service.ts:21</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="employees"></a>
                    <span class="name">
                        <span ><b>employees</b></span>
                        <a href="#employees"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/Employee.html" target="_self" >Employee[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="16" class="link-to-prism">src/app/services/common/common.service.ts:16</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="employeesSubscriber"></a>
                    <span class="name">
                        <span ><b>employeesSubscriber</b></span>
                        <a href="#employeesSubscriber"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Subscription</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="15" class="link-to-prism">src/app/services/common/common.service.ts:15</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="transfers"></a>
                    <span class="name">
                        <span ><b>transfers</b></span>
                        <a href="#transfers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/Transfer.html" target="_self" >Transfer[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">src/app/services/common/common.service.ts:19</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="transfersSubscriber"></a>
                    <span class="name">
                        <span ><b>transfersSubscriber</b></span>
                        <a href="#transfersSubscriber"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Subscription</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/app/services/common/common.service.ts:18</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, Type } from &#x27;@angular/core&#x27;;
import { Contact } from &#x27;../../models/contact.class&#x27;;
import { Transfer } from &#x27;../../models/transfer.class&#x27;;
import { Employee } from &#x27;../../models/employee.class&#x27;;
import { Subscription } from &#x27;rxjs&#x27;;
import { FirestoreService } from &#x27;../firestore/firestore.service&#x27;;
import { ValidatorFn, AbstractControl, ValidationErrors } from &#x27;@angular/forms&#x27;;


@Injectable({
  providedIn: &#x27;root&#x27;
})
export class CommonService {

  employeesSubscriber &#x3D; new Subscription;
  employees: Employee[] &#x3D; [];

  transfersSubscriber &#x3D; new Subscription;
  transfers: Transfer[] &#x3D; [];

  contactsSubscriber &#x3D; new Subscription;
  contacts: Contact[] &#x3D; [];

  constructor(
    private firestoreService: FirestoreService) {

    this.employeesSubscriber.unsubscribe();
    this.transfersSubscriber.unsubscribe();
    this.contactsSubscriber.unsubscribe();

    this.employeesSubscriber &#x3D;
      this.firestoreService
        .employeesFrontendDistributor
        .subscribe(employees &#x3D;&gt; {
          this.employees &#x3D; employees;
        });

    this.transfersSubscriber &#x3D;
      this.firestoreService
        .transfersFrontendDistributor
        .subscribe(transfers &#x3D;&gt; {
          this.transfers &#x3D; transfers;
        });

    this.contactsSubscriber &#x3D;
      this.firestoreService
        .contactsFrontendDistributor
        .subscribe(contacts &#x3D;&gt; {
          this.contacts &#x3D; contacts;
        });
  }


  /**
   * Unsubscribes from all subscriptions in this service.
   */
  ngOnDestroy(): void {
    this.employeesSubscriber.unsubscribe();
    this.transfersSubscriber.unsubscribe();
    this.contactsSubscriber.unsubscribe();
  }


  /**
   * Finds a document in a collection by its id and returns it (as object).
   * @param collection 
   * @param documentId 
   * @param constructor corresponding to the collection 
   * @returns document (contact, employee or transfer)
   */
  getDocumentFromCollection(
    collection: &#x27;employees&#x27; | &#x27;transfers&#x27; | &#x27;contacts&#x27;,
    documentId: string,
    constructor: Type&lt;Contact | Transfer | Employee&gt;
  ): any {

    const coll &#x3D; this.returnCollectionByName(collection);

    if (!coll) throw new Error;

    for (let i &#x3D; 0; i &lt; coll.length; i++) {
      const document &#x3D; coll[i];

      if (document.id &#x3D;&#x3D;&#x3D; documentId) return new constructor(document);
    }

    return new constructor();
  }


  /**
   * Finds a document in the collection that is passed as parameter by its id. The found object is returned.
   * @param collection array containing objects of type Employee, Transfer or Contact
   * @param documentId 
   * @param constructor corresponding to the collection
   * @returns document (contact, employee or transfer)
   */
  getDocumentFromCustomCollection(
    collection: Employee[] | Transfer[] | Contact[],
    documentId: string,
    constructor: Type&lt;Contact | Transfer | Employee&gt;
  ): any {

    for (let i &#x3D; 0; i &lt; collection.length; i++) {
      const document &#x3D; collection[i];

      if (document.id &#x3D;&#x3D;&#x3D; documentId) return new constructor(document);
    }

    return new constructor();
  }


  /**
   * Returns the corresponding collection to the term that is passed as parameter.
   * @param collection 
   * @returns array of contacts, employees or transfers (called &quot;transaction&quot; in the UI)
   */
  returnCollectionByName(
    collection: &#x27;employees&#x27; | &#x27;transfers&#x27; | &#x27;contacts&#x27;
  ): Employee[] | Transfer[] | Contact[] {

    switch (collection) {

      case &#x27;employees&#x27;: return this.employees;

      case &#x27;transfers&#x27;: return this.transfers;

      case &#x27;contacts&#x27;: return this.contacts;

      default: return [];
    }
  }


  /**
   * Returns the document id of the person with the name that is passed as parameter.
   * @param name of the person whose id should be returned
   * @param collection where the person should be found (contacts or employees)
   * @returns document id as string
   */
  returnIdByName(
    name: string,
    collection: Employee[] | Contact[]
  ): string {

    const person &#x3D; this.returnPersonByName(name, collection);

    if (!person) return &#x27;&#x27;;

    else return person.id;
  }


  /**
   * Returns the person (object) with the name that is passed as parameter.
   * @param name of the person
   * @param collection where the person should be found (contacts or employees)
   * @returns object of type Contact or Employee
   */
  returnPersonByName(
    name: string,
    collection: Employee[] | Contact[]
  ): Contact | Employee | void {

    const lastName &#x3D; name.split(&#x27;,&#x27;)[0];
    const firstName &#x3D; name.split(&#x27;,&#x27;)[1].slice(1);

    for (let i &#x3D; 0; i &lt; collection.length; i++) {
      const person &#x3D; collection[i];

      if (
        firstName &#x3D;&#x3D;&#x3D; person.firstName &amp;&amp;
        lastName &#x3D;&#x3D;&#x3D; person.lastName

      ) return person;
    }
  }


  /**
   * Creates an array of name strings from an collection. Used in the person pickers.
   * @param collection from which the names should be taken
   * @returns array of name strings (firstname and lastname separated by comma)
   */
  returnDataForPersonPicker(collection: Contact[] | Employee[]): string[] {

    let pickerOptions &#x3D; [];

    for (let i &#x3D; 0; i &lt; collection.length; i++) {
      const person &#x3D; collection[i];

      if (person.id !&#x3D;&#x3D; &#x27;WjVzeiDUXvRcx8MVZBbq&#x27;) { //person is not the owner of the database

        const fullName &#x3D; person.lastName + &#x27;, &#x27; + person.firstName;

        pickerOptions.push(fullName);
      }
    }

    return pickerOptions;
  }


  /**
   * Converts a person name from the format &quot;lastname, firstname&quot; to the format &quot;firstname lastname&quot;.
   * @param lastNameCommaFirstName name in the format &quot;lastname, firstname&quot;
   * @returns name in the format &quot;firstname lastname&quot;
   */
  returnFormattedName(
    lastNameCommaFirstName: string
  ): string {

    const lastName &#x3D; lastNameCommaFirstName.split(&#x27;,&#x27;)[0];
    const firstName &#x3D; lastNameCommaFirstName.split(&#x27;,&#x27;)[1].slice(1);

    return firstName + &#x27; &#x27; + lastName;
  }


  /**
   * Returns the url parameters for navigating to the details page of the person whose id is passed as parameter.
   * @param type 
   * @param id document id of the person
   * @returns url parameters as string (for use in routerLink)
   */
  returnLinkToPerson(
    type: &#x27;/employees&#x27; | &#x27;/contacts&#x27;,
    id: string
  ): string[] {

    if (id) return [type, id];

    else return [];
  }


  /**
   * Returns all transfers (called &quot;transactions&quot; in the UI), in which the contact who is passed as parameter is involved.
   * @param contactId document id of the contact whose transfers should be returned
   * @returns array of transfers
   */
  returnTransactionsOfContact(contactId: string): Transfer[] {

    let transactions: Transfer[] &#x3D; [];

    for (let i &#x3D; 0; i &lt; this.transfers.length; i++) {
      const transfer &#x3D; this.transfers[i];

      if (
        transfer.payerId &#x3D;&#x3D;&#x3D; contactId ||
        transfer.recipientId &#x3D;&#x3D;&#x3D; contactId
      ) {
        transactions.push(transfer);
      }
    }

    return transactions;
  }


  /**
   * Returns all transfers (called &quot;transactions&quot; in the UI), in which the employee who is passed as parameter is specified in the key &quot;closedBy&quot;.
   * @param employeeId document id of the contact whose closings should be returned
   * @returns array of transfers
   */
  returnClosingsOfEmployee(employeeId: string): Transfer[] {

    let closings: Transfer[] &#x3D; [];

    for (let i &#x3D; 0; i &lt; this.transfers.length; i++) {
      const transfer &#x3D; this.transfers[i];

      if (transfer.closedById &#x3D;&#x3D;&#x3D; employeeId) closings.push(transfer);
    }

    return closings;
  }


  /**
   * Input validator that checks if a number value is greater than zero
   * @returns validator function
   */
  greaterThanZeroValidator(): ValidatorFn {

    return (control: AbstractControl): ValidationErrors | null &#x3D;&gt; {

      const value &#x3D; control.value;

      if (value !&#x3D;&#x3D; null &amp;&amp; value &lt;&#x3D; 0) return { &#x27;greaterThanZero&#x27;: true };

      return null;
    }
  }


  /**
   * It is easier for users to specifiy and edit the amount in both ingoing and outgoing payments in positive values. Therefore this function can be called for turning positive amount values for outgoing payments (&quot;purchase&quot; and &quot;refund&quot;) into negative values and vice versa.
   * @param transfer 
   * @returns original amount value of transfer, if type is &quot;sale&quot;, otherwise inverted value
   */
  invertValueIfOutgoingPayment(transfer: Transfer): number {

    if (transfer.type &#x3D;&#x3D;&#x3D; &quot;Sale&quot;) return transfer.amount;

    else return transfer.amount * -1;
  }


  /**
   * Validates that date does not lie in the future (is today or in the past).
   * @returns validator function
   */
  dateNotInFutureValidator(): ValidatorFn {

    return (control: AbstractControl): ValidationErrors | null &#x3D;&gt; {
      const today &#x3D; new Date();
      const date &#x3D; new Date(control.value);

      if (date &gt; today) return { dateNotInFuture: true };

      else return null;
    };
  }
}</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'CommonService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
